# DISC Test App (ฺฉุงูู ุดุฏู ุจุง ุฎุฑูุฌ ด ุฑููุ ุชุญููุ ุชุงูุฑ ู ุฑุงุจุท ุฑุงุณุชโฺู)
import streamlit as st
import pandas as pd
import plotly.graph_objects as go
from fpdf import FPDF
import base64
import time
from pathlib import Path

# ุชุงุจุน ุชุจุฏู ูููุช ูุญู ุจู CSS
def local_font_css(font_path, font_name):  
    with open(font_path, "rb") as f:  
        encoded_font = base64.b64encode(f.read()).decode('utf-8')  
    return f"""  
    <style>  
    @font-face {{  
        font-family: '{font_name}';  
        src: url(data:font/ttf;base64,{encoded_font}) format('truetype');  
        font-weight: normal;  
        font-style: normal;  
    }}  
  
    /* ุชูุงู ุงุฌุฒุง ุตูุญูุ ุจู ุฌุฒ ุจุฎุด footer */  
    html, body, * {{  
        font-family: '{font_name}' !important;  
        font-size: 22px !important;  
        direction: rtl !important;  
        text-align: right !important;  
    }}  

    /* ุชูุธู ูููุช ุจุฑุง ุชุชุฑูุง */  
    h1, h2, h3, h4, h5, h6 {{  
        font-family: '{font_name}' !important;  
        font-size: 20px !important;  
        line-height: 2.2 !important;  
    }}  
  
    h1.main-title {{  
        font-family: '{font_name}' !important;  
        font-size: 52px !important;  
        color: #1a73e8 !important;  
        text-align: center !important;  
        font-weight: bold !important;  
        margin-top: 40px !important;  
        margin-bottom: 30px !important;  
    }}  
  
    /* ุชูุธู ูููุช ุจุฑุง ุฏฺฉููโูุง ู ูุฑูุฏโูุง */  
    .stButton > button,  
    .stDownloadButton > button,  
    .stTextInput input,  
    .stSelectbox div,  
    .stFileUploader,  
    .stFileUploader label,  
    input, select, textarea, button {{  
        font-family: '{font_name}' !important;  
        font-size: 16px !important;  
    }}  
  
    footer {{  
        visibility: hidden;  
    }}  
    </style>  
    """


# ุชูุธูุงุช ุตูุญู ู ุฏุฑุฌ CSS ูููุช
st.set_page_config(page_title="ุขุฒููู ุดุฎุตุช ุดูุงุณ DISC", layout="centered")
font_css = local_font_css("0 Nazanin.TTF", "Nazanin")
st.markdown(font_css, unsafe_allow_html=True)

# ูุชุบุฑูุง ุณุฑุงุณุฑ
TOTAL_TIME = 20 * 60  # 20 ุฏููู ุจุฑ ุญุณุจ ุซุงูู
TOTAL_QUESTIONS = 24

if 'start_time' not in st.session_state:
    st.session_state.start_time = time.time()
if 'responses' not in st.session_state:
    st.session_state.responses = []
    st.session_state.current_q = 0
if 'submitted' not in st.session_state:
    st.session_state.submitted = False

# ุณูุงูุงุช DISC (ูพุดโูุฑุถ: ุงุฒ ูุจู ุฏุฑ ูุชุบุฑ questions ููุฌูุฏ ุงุณุช)
from random import shuffle
questions = [...]  # ุงู ูุณูุช ุดุงูู ูุณุช 24 ุณุคุงู ูุงุฑุณ ุงุฒ ูุจู ุงุณุช
shuffle(questions)

questions = [
    {
        "text": "ุฏุฑ ฺฉ ุฌูุณู ฺฉุงุฑ ุชุฑุฌุญ ูโุฏูู:",
        "options": [
            {"label": "ฺฉูุชุฑู ุฌูุณู ุฑุง ุจูโุฏุณุช ุจฺฏุฑู", "dimension": "D"},
            {"label": "ุจุง ุงูุฑุงุฏ ุฌุฏุฏ ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูู", "dimension": "I"},
            {"label": "ุดูููุฏู ุฎูุจ ุจุงุดู ู ูุถุง ุขุฑุงู ุญูุธ ุดูุฏ", "dimension": "S"},
            {"label": "ูุทูุฆู ุดูู ูููโฺุฒ ุทุจู ุจุฑูุงูู ูพุด ูโุฑูุฏ", "dimension": "C"},
        ]
    },
    {
        "text": "ููุช ุจุง ฺฉ ฺุงูุด ุณุฎุช ููุงุฌู ูโุดูู:",
        "options": [
            {"label": "ุณุฑุน ุชุตูู ูโฺฏุฑู ู ุนูู ูโฺฉูู", "dimension": "D"},
            {"label": "ุงุฒ ุฏฺฏุฑุงู ุงููุงู ูโฺฏุฑู ุง ูุธุฑุดุงู ุฑุง ูโูพุฑุณู", "dimension": "I"},
            {"label": "ุตุจุฑ ูโฺฉูู ุชุง ุดุฑุงุท ุจูุชุฑ ุดูุฏ", "dimension": "S"},
            {"label": "ุงุทูุงุนุงุช ุฏูู ุฌูุนโุขูุฑ ูโฺฉูู ู ุจุง ุชุญูู ุฌูู ูโุฑูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ูพุฑูฺูโูุง ุชู ูุนูููุงู ูู:",
        "options": [
            {"label": "ููุด ุฑูุจุฑ ุฑุง ุจุฑุนูุฏู ูโฺฏุฑู", "dimension": "D"},
            {"label": "ุจุงุนุซ ุงูฺฏุฒูโุจุฎุด ุจู ุชู ูโุดูู", "dimension": "I"},
            {"label": "ุจุง ููู ููุงููฺฏ ู ููุฑุงู ูุณุชู", "dimension": "S"},
            {"label": "ุฑู ุฑููุฏ ู ุฏูุช ุชูุฑฺฉุฒ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ููุช ุจุฑูุงููโุง ุชุบุฑ ูโฺฉูุฏ:",
        "options": [
            {"label": "ุณุน ูโฺฉูู ฺฉูุชุฑู ุดุฑุงุท ุฑุง ุญูุธ ฺฉูู", "dimension": "D"},
            {"label": "ุจู ุฏฺฏุฑุงู ุงูฺฏุฒู ูโุฏูู ุชุง ููุงููฺฏ ุดููุฏ", "dimension": "I"},
            {"label": "ุฎููุณุฑุฏ ุฎูุฏู ุฑุง ุญูุธ ูโฺฉูู", "dimension": "S"},
            {"label": "ุฏูุงู ุชุบุฑ ุฑุง ุจุฑุฑุณ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ููุงุฌูู ุจุง ุถุฑุจโุงูุนุฌู ฺฉุงุฑ:",
        "options": [
            {"label": "ุจูโุณุฑุนุช ุชุตูู ูโฺฏุฑู", "dimension": "D"},
            {"label": "ุฏฺฏุฑุงู ุฑุง ุชุดูู ุจู ููฺฉุงุฑ ูโฺฉูู", "dimension": "I"},
            {"label": "ุจุง ุขุฑุงูุด ุนูู ูโฺฉูู", "dimension": "S"},
            {"label": "ุจุฑูุงููโุฑุฒ ุฏูู ุงูุฌุงู ูโุฏูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุจุฑุฎูุฑุฏ ุจุง ููฺฉุงุฑุงู ุฌุฏุฏ:",
        "options": [
            {"label": "ูุณุชูู ู ุตุฑุญ ูุณุชู", "dimension": "D"},
            {"label": "ุฎู ุฒูุฏ ุตูู ูโุดูู", "dimension": "I"},
            {"label": "ุจุง ุงุญุชุฑุงู ู ุขุฑุงูุด ุจุฑุฎูุฑุฏ ูโฺฉูู", "dimension": "S"},
            {"label": "ุณุน ูโฺฉูู ุฏูู ู ุญุฑููโุง ุจุงุดู", "dimension": "C"},
        ]
    },
    {
        "text": "ููุช ุฏุฑ ุฌูุณูโุง ูุฎุงููุช ูุทุฑุญ ูโุดูุฏ:",
        "options": [
            {"label": "ููุทูโูุธุฑ ุฎูุฏ ุฑุง ูุญฺฉู ุจุงู ูโฺฉูู", "dimension": "D"},
            {"label": "ุณุน ูโฺฉูู ูุถุง ุฑุง ุขุฑุงู ู ูุซุจุช ูฺฏู ุฏุงุฑู", "dimension": "I"},
            {"label": "ุจู ุญุฑู ููู ฺฏูุด ูโุฏูู", "dimension": "S"},
            {"label": "ูุณุชูุฏ ู ููุทู ูพุงุณุฎ ูโุฏูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ูพุฑูฺูโูุง ฺูุฏูุฑุญููโุง:",
        "options": [
            {"label": "ูุฑุญูู ุจู ูุฑุญูู ูพุด ูโุฑูู ุงูุง ุณุฑุน", "dimension": "D"},
            {"label": "ุฏุฑ ูุฑ ูุฑุญูู ุจุง ุงุนุถุง ุชู ูุดูุฑุช ูโฺฉูู", "dimension": "I"},
            {"label": "ุฑููุฏ ุฑุง ุขุฑุงู ู ููุธู ูพุด ูโุจุฑู", "dimension": "S"},
            {"label": "ุจุฑุง ูุฑ ูุฑุญูู ูุณุชูุฏุงุช ุฏูู ุชูู ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ููุงุฌูู ุจุง ูุณุฆููุช ุฌุฏุฏ:",
        "options": [
            {"label": "ุจูุงูุงุตูู ุขู ุฑุง ูโูพุฐุฑู ู ุดุฑูุน ูโฺฉูู", "dimension": "D"},
            {"label": "ุจุง ุฏฺฏุฑุงู ุฏุฑ ููุฑุฏ ุขู ุตุญุจุช ูโฺฉูู", "dimension": "I"},
            {"label": "ุณุน ูโฺฉูู ุจู ุขุฑุงู ูุงุฑุฏ ฺฉุงุฑ ุดูู", "dimension": "S"},
            {"label": "ุงุจุชุฏุง ููู ุฌุฒุฆุงุช ุฑุง ุจุฑุฑุณ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุจุฑุง ุชุนุทูุงุช ุขุฎุฑ ููุชู:",
        "options": [
            {"label": "ุจุฑูุงููโุง ูุนุงู ู ูุงุฌุฑุงุฌูุงูู ุงูุชุฎุงุจ ูโฺฉูู", "dimension": "D"},
            {"label": "ุฏูุฑูู ุจุง ุฏูุณุชุงู ุฑุง ุชุฑุฌุญ ูโุฏูู", "dimension": "I"},
            {"label": "ุชูุฑุญ ุขุฑุงู ูุซู ฺฉุชุงุจ ุง ุทุจุนุชโฺฏุฑุฏ ุฑุง ุชุฑุฌุญ ูโุฏูู", "dimension": "S"},
            {"label": "ุจุฑูุงููโุฑุฒ ุฏูู ุจุฑุง ููู ุฌุฒุฆุงุช ุฏุงุฑู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ููุงุฌูู ุจุง ุงุดุชุจุงู ุฏฺฏุฑุงู:",
        "options": [
            {"label": "ุจุง ูุงุทุนุช ุชุฐฺฉุฑ ูโุฏูู", "dimension": "D"},
            {"label": "ุจู ุดููโุง ูุซุจุช ุขู ุฑุง ูุทุฑุญ ูโฺฉูู", "dimension": "I"},
            {"label": "ุณุน ูโฺฉูู ุดุฑุงุท ุฑุง ุฏุฑฺฉ ฺฉูู", "dimension": "S"},
            {"label": "ุฌุฒุฆุงุช ุงุดุชุจุงู ุฑุง ูุณุชูุฏ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ููุช ฺฉุงุฑ ุฌุฏุฏ ุดุฑูุน ูโุดูุฏ:",
        "options": [
            {"label": "ููุฑุงู ูุงุฑุฏ ุนูู ูโุดูู", "dimension": "D"},
            {"label": "ุฏุฑุจุงุฑู ุขู ุจุง ุงุดุชุงู ุตุญุจุช ูโฺฉูู", "dimension": "I"},
            {"label": "ุจุง ููุงููฺฏ ู ุตุจุฑ ฺฉุงุฑ ุฑุง ุดุฑูุน ูโฺฉูู", "dimension": "S"},
            {"label": "ุงุจุชุฏุง ูุฑุงุญู ุฑุง ุจุฑุฑุณ ู ุชุญูู ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ููุงุฌูู ุจุง ูุฑุฏ ุจุง ูุธุฑ ูุฎุงูู:",
        "options": [
            {"label": "ูุงุทุนุงูู ุงุฒ ููุถุน ุฎูุฏู ุฏูุงุน ูโฺฉูู", "dimension": "D"},
            {"label": "ุณุน ูโฺฉูู ุงู ุฑุง ุจุง ุดูุฎ ู ูุจุฎูุฏ ุขุฑุงู ฺฉูู", "dimension": "I"},
            {"label": "ุจุง ุงุญุชุฑุงู ฺฏูุด ูโุฏูู ู ูุธุฑ ูโุฏูู", "dimension": "S"},
            {"label": "ูพุงุณุฎ ูุณุชูุฏ ู ููุทู ูโุฏูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุดุฑุงุท ุจุญุฑุงู ฺฺฏููู ูุงฺฉูุด ูุดุงู ูโุฏูู:",
        "options": [
            {"label": "ุณุฑุน ฺฉูุชุฑู ุงูุถุงุน ุฑุง ุจูโุฏุณุช ูโฺฏุฑู", "dimension": "D"},
            {"label": "ุจู ุฏฺฏุฑุงู ุงูุฏ ู ุงูฺฏุฒู ูโุฏูู", "dimension": "I"},
            {"label": "ุณุน ูโฺฉูู ุขุฑุงูุด ุฑุง ุญูุธ ฺฉูู", "dimension": "S"},
            {"label": "ุงุทูุงุนุงุช ู ููุงูู ูุฑุจูุท ุฑุง ุจุฑุฑุณ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ููุช ูพุฑูฺูโุง ุดฺฉุณุช ูโุฎูุฑุฏ:",
        "options": [
            {"label": "ุนูุช ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู ู ุฑุงูโุญู ูพุดููุงุฏ ูโุฏูู", "dimension": "D"},
            {"label": "ุชู ุฑุง ุจู ุงุฏุงูู ุฏุงุฏู ุชุดูู ูโฺฉูู", "dimension": "I"},
            {"label": "ุจุง ููุฏู ุงุฒ ุงุนุถุง ุชู ุญูุงุช ูโฺฉูู", "dimension": "S"},
            {"label": "ูุณุชูุฏุงุช ุฑุง ุชุญูู ูโฺฉูู ุชุง ุงุดุชุจุงูุงุช ุฑุง ุจูููู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุดุฑุงุท ุนุฏู ูุทุนุช:",
        "options": [
            {"label": "ุจุง ุฌุณุงุฑุช ุชุตูู ูโฺฏุฑู", "dimension": "D"},
            {"label": "ุณุน ูโฺฉูู ูฺฏุฑุงู ุฏฺฏุฑุงู ุฑุง ฺฉู ฺฉูู", "dimension": "I"},
            {"label": "ููุชุธุฑ ุดูุงูโุชุฑ ุดุฏู ุดุฑุงุท ูโูุงูู", "dimension": "S"},
            {"label": "ุงุทูุงุนุงุช ุจุดุชุฑ ุฌูุนโุขูุฑ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุดุฑูุน ููฺฉุงุฑ ุฌุฏุฏ:",
        "options": [
            {"label": "ุจูโุณุฑุนุช ูุณุฆููุชโูุง ุฑุง ูุดุฎุต ูโฺฉูู", "dimension": "D"},
            {"label": "ุฑูุงุจุท ุฏูุณุชุงูู ุจุฑูุฑุงุฑ ูโฺฉูู", "dimension": "I"},
            {"label": "ุงุนุชูุงุฏุณุงุฒ ูโฺฉูู ู ุตุจูุฑู", "dimension": "S"},
            {"label": "ููุงูู ู ุงูุชุธุงุฑุงุช ุฑุง ุฏูู ุจุฑุฑุณ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุฒูุงู ุชุตููโฺฏุฑโูุง ููู:",
        "options": [
            {"label": "ุจุง ูุงุทุนุช ุชุตูู ูโฺฏุฑู", "dimension": "D"},
            {"label": "ุชุฃุซุฑ ุขู ุจุฑ ุฏฺฏุฑุงู ุฑุง ุฏุฑ ูุธุฑ ูโฺฏุฑู", "dimension": "I"},
            {"label": "ุจุง ูุดูุฑุช ฺฏุฑูู ุจู ูุชุฌู ูโุฑุณู", "dimension": "S"},
            {"label": "ุชูุงู ุฌูุงูุจ ุฑุง ุชุญูู ุจุฑุฑุณ ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุฒูุงู ุดุฑูุน ฺฉุงุฑ ุฌุฏุฏ:",
        "options": [
            {"label": "ุณุฑุน ุงูุฏุงู ูโฺฉูู", "dimension": "D"},
            {"label": "ุจุง ูุฌุงู ูุงุฑุฏ ุชู ูโุดูู", "dimension": "I"},
            {"label": "ุณุน ูโฺฉูู ููุงููฺฏ ุจุง ูุญุท ุฌุฏุฏ ุจุงุดู", "dimension": "S"},
            {"label": "ูุฑุขูุฏูุง ู ุฑูุดโูุง ุฑุง ุงุฏุฏุงุดุช ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ููุช ฺฉุณ ุนููฺฉุฑุฏ ุถุนู ุฏุงุฑุฏ:",
        "options": [
            {"label": "ูุณุชูู ุจู ุงู ุจุงุฒุฎูุฑุฏ ูโุฏูู", "dimension": "D"},
            {"label": "ุจุง ฺฏูุชุงุฑ ูุซุจุช ุชูุงุดุด ุฑุง ุชุญุณู ูโฺฉูู", "dimension": "I"},
            {"label": "ุจู ุงู ฺฉูฺฉ ูโฺฉูู ูพุดุฑูุช ฺฉูุฏ", "dimension": "S"},
            {"label": "ุฌุฒุฆุงุช ุฑุง ุจุฑุฑุณ ูโฺฉูู ู ุฑุงูููุง ุฏูู ูโุฏูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ฺฉุงุฑูุง ุชู:",
        "options": [
            {"label": "ูุธุงู ุฑุง ุชูุณู ูโฺฉูู ู ุฌูู ูโุจุฑู", "dimension": "D"},
            {"label": "ุฌู ุฑุง ุดุงุฏ ู ูพุฑุงูุฑฺ ูฺฏู ูโุฏุงุฑู", "dimension": "I"},
            {"label": "ุจุงุนุซ ููุงููฺฏ ู ููุฏู ูโุดูู", "dimension": "S"},
            {"label": "ุฑู ฺฉูุช ู ุฏูุช ฺฉุงุฑ ุชูุฑฺฉุฒ ุฏุงุฑู", "dimension": "C"},
        ]
    },
    {
        "text": "ุงฺฏุฑ ูุงุฒู ุจุงุดุฏ ฺฉุงุฑ ุชฺฉุฑุงุฑ ุงูุฌุงู ุฏูู:",
        "options": [
            {"label": "ุณุฑุน ุงูุฌุงู ูโุฏูู ุชุง ุจู ุณุฑุงุบ ฺฉุงุฑ ุจุนุฏ ุจุฑูู", "dimension": "D"},
            {"label": "ุณุน ูโฺฉูู ุขู ุฑุง ุณุฑฺฏุฑูโฺฉููุฏู ฺฉูู", "dimension": "I"},
            {"label": "ุจุง ุญูุตูู ู ูุธู ุงูุฌุงูุด ูโุฏูู", "dimension": "S"},
            {"label": "ุฏุฑ ูุฑ ุจุงุฑ ุงูุฌุงูุ ุฏูุช ุจุดุชุฑ ุจู ุฎุฑุฌ ูโุฏูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุงุดุชุจุงู ุงุฒ ุฌุงูุจ ูู:",
        "options": [
            {"label": "ูุณุฆููุช ุฑุง ูโูพุฐุฑู ู ุฌุจุฑุงู ูโฺฉูู", "dimension": "D"},
            {"label": "ุจุง ุตุฑุงุญุช ู ููุฑุจุงู ุนุฐุฑุฎูุงู ูโฺฉูู", "dimension": "I"},
            {"label": "ุณุน ูโฺฉูู ุชูุด ุงุฌุงุฏ ูฺฉูู", "dimension": "S"},
            {"label": "ุนูุช ุงุดุชุจุงู ุฑุง ุฏูู ุชุญูู ูโฺฉูู", "dimension": "C"},
        ]
    },
    {
        "text": "ุฏุฑ ุงูุชุฎุงุจ ุดุบู ุฌุฏุฏุ ุงูููุช ูู:",
        "options": [
            {"label": "ุงูฺฉุงู ูพุดุฑูุช ุณุฑุน ู ูุณุฆููุชโูพุฐุฑ ุงุณุช", "dimension": "D"},
            {"label": "ูุญุท ฺฉุงุฑ ูุซุจุช ู ุงุฌุชูุงุน ุงุณุช", "dimension": "I"},
            {"label": "ุซุจุงุช ุดุบู ู ููฺฉุงุฑ ุฏูุณุชุงูู ุงุณุช", "dimension": "S"},
            {"label": "ุดูุงูุช ููุดโูุง ู ุณุงุฎุชุงุฑ ุณุงุฒูุงู ุงุณุช", "dimension": "C"},
        ]
    }
]

# ุชุงูุฑ
elapsed = int(time.time() - st.session_state.start_time)
remaining = TOTAL_TIME - elapsed
minutes = remaining // 60
seconds = remaining % 60
if remaining <= 0:
    st.warning("ุฒูุงู ุดูุง ุจู ูพุงุงู ุฑุณุฏ. ุขุฒููู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุซุจุช ุดุฏ.")
    st.session_state.current_q = TOTAL_QUESTIONS
else:
    st.info(f"โณ ุฒูุงู ุจุงูโูุงูุฏู: {minutes} ุฏููู ู {seconds} ุซุงูู")

# ููุงุฑ ูพุดุฑูุช
progress = int((st.session_state.current_q / TOTAL_QUESTIONS) * 100)
st.progress(progress)

# ุขุฒููู
if st.session_state.current_q < TOTAL_QUESTIONS:
    q = questions[st.session_state.current_q]
    st.markdown(f"### ุณุคุงู {st.session_state.current_q + 1}: {q['text']}")
    most = st.radio("ุจุดุชุฑู ุดุจุงูุช ุจู ูู ุฏุงุฑุฏ:", q['options'], key=f"most_{st.session_state.current_q}", format_func=lambda x: x['label'], index=None)
    least = st.radio("ฺฉูุชุฑู ุดุจุงูุช ุจู ูู ุฏุงุฑุฏ:", q['options'], key=f"least_{st.session_state.current_q}", format_func=lambda x: x['label'], index=None)
    if st.button("ุณุคุงู ุจุนุฏ"):
        if most is None or least is None:
            st.warning("ูุทูุงู ฺฏุฒููโูุง ูุฑ ุฏู ุจุฎุด ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.")
        elif most == least:
            st.warning("ฺฏุฒููโูุง ุจุดุชุฑู ู ฺฉูุชุฑู ูุจุงุฏ ฺฉุณุงู ุจุงุดูุฏ.")
        else:
            st.session_state.responses.append({"most": most['dimension'], "least": least['dimension']})
            st.session_state.current_q += 1
            st.rerun()
# --- ๐ฏ ุชุณุช ุณุฑุน ุจุง ุงูุชุฎุงุจ ุชูพ DISC ุงุฒ ุณุงุฏุจุงุฑ ---
st.sidebar.markdown("## ๐งช ุชุณุช ุณุฑุน ุชูพโูุง DISC")

test_type = st.sidebar.selectbox("ุงูุชุฎุงุจ ุชูพ ุจุฑุง ุชุณุช:", [
    "High D", "High DI", "DI", "DC",
    "High I", "ID", "IS", "IC",
    "High S", "SD", "SCD", "SI",
    "High C", "CS", "CIS"
])

if st.sidebar.button("๐ ุงุฌุฑุง ุชุณุช ุณุงุฎุชฺฏ"):
    simulated = []

    if test_type == "High D":
        simulated = [{"most": "D", "least": "S"}] * 20
    elif test_type == "High DI":
        simulated = [{"most": "D", "least": "S"}] * 12 + [{"most": "I", "least": "C"}] * 12
    elif test_type == "DI":
        simulated = [{"most": "D", "least": "C"}] * 12 + [{"most": "I", "least": "S"}] * 12
    elif test_type == "DC":
        simulated = [{"most": "D", "least": "I"}] * 12 + [{"most": "C", "least": "S"}] * 12
    elif test_type == "High I":
        simulated = [{"most": "I", "least": "C"}] * 20
    elif test_type == "ID":
        simulated = [{"most": "I", "least": "S"}] * 12 + [{"most": "D", "least": "C"}] * 12
    elif test_type == "IS":
        simulated = [{"most": "I", "least": "D"}] * 12 + [{"most": "S", "least": "C"}] * 12
    elif test_type == "IC":
        simulated = [{"most": "I", "least": "S"}] * 12 + [{"most": "C", "least": "D"}] * 12
    elif test_type == "High S":
        simulated = [{"most": "S", "least": "D"}] * 20
    elif test_type == "SD":
        simulated = [{"most": "S", "least": "I"}] * 12 + [{"most": "D", "least": "C"}] * 12
    elif test_type == "SCD":
        simulated = [{"most": "S", "least": "I"}] * 8 + [{"most": "C", "least": "I"}] * 8 + [{"most": "D", "least": "I"}] * 8
    elif test_type == "SI":
        simulated = [{"most": "S", "least": "C"}] * 12 + [{"most": "I", "least": "D"}] * 12
    elif test_type == "High C":
        simulated = [{"most": "C", "least": "I"}] * 20
    elif test_type == "CS":
        simulated = [{"most": "C", "least": "I"}] * 12 + [{"most": "S", "least": "D"}] * 12
    elif test_type == "CIS":
        simulated = [{"most": "C", "least": "D"}] * 8 + [{"most": "I", "least": "D"}] * 8 + [{"most": "S", "least": "D"}] * 8

    st.session_state.responses = simulated
    st.session_state.current_q = TOTAL_QUESTIONS
    st.rerun()
disc_data = {
  "disc_report": {
    "introduction": "ุงู ฺฏุฒุงุฑุด ุจุฑ ุงุณุงุณ ูุฏู DISC ู ุชุฑฺฉุจุงุช ุขู ุชูู ุดุฏู ุงุณุช ุชุง 15 ุชูพ ุดุฎุตุช ุฑุง ูพูุดุด ุฏูุฏ. ูุฏู ุงุณุชุงูุฏุงุฑุฏ DISC ุดุงูู 4 ุชูพ ุงุตู (D, I, S, C) ุงุณุช ู ุณุงุฑ ุชูพโูุง ุชุฑฺฉุจ ุงุฒ ุงู 4 ุณุจฺฉ ุงุตู ูุณุชูุฏ ฺฉู ูฺฺฏโูุง ููุญุตุฑ ุจู ูุฑุฏ ุฑุง ุงุฌุงุฏ ูโฺฉููุฏ. ุงู ฺฏุฒุงุฑุด ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุชุญููโูุง ุดุบู ู ุชู ุทุฑุงุญ ุดุฏู ุงุณุช.",
    "personality_types": [
      {
        "type_name": "High D (Dominance) - ุฑุงูุจุฑ",
        "general_characteristics": [
          "ุฎูุฏูุญูุฑ ู ูุชุฌูโฺฏุฑุง",
          "ุฑฺฉ ู ุตุฑุญ",
          "ูพุฑ ุฌุฑุงุช ู ูู",
          "ูุงูุฐ ู ูุตูู",
          "ุฎุทุฑูพุฐุฑ ู ูุงุฌุฑุงุฌู",
          "ุนููฺฏุฑุง ู ุณุฑุน",
          "ูุทูุฆู ุจู ุฎูุฏ",
          "ุชุตููโฺฏุฑูุฏู ุณุฑุน ู ูุงุทุน",
          "ูููุนุชโุทูุจ ู ุฌุงูโุทูุจ",
          "ููุทู ุบุงูุจ ุจุฑ ุงุญุณุงุณุงุช",
          "ฺฉูุชุฑูโฺฉููุฏู"
        ],
        "leadership_style": "ุฏุณุชูุฑ, ูุงุทุน, ุชูุฑฺฉุฒ ุจุฑ ุฑู ูุชุงุฌ ู ุงูุฏุงู, ุงูุชุธุงุฑ ุณุฑุนุช ู ุนููฺฉุฑุฏ ุจุงูุง ุงุฒ ุชู, ฺุงูุดโุจุฑุงูฺฏุฒ ู ุงููุงูโุจุฎุด ุจุฑุง ุฑุณุฏู ุจู ุงูุฏุงู ุจุฒุฑฺฏ.",
        "challenges": "ุนุฏู ุตุจูุฑ, ุจโุชูุฌู ุจู ุฌุฒุฆุงุช ู ุงุญุณุงุณุงุช ุฏฺฏุฑุงู, ุชูุงู ุจู ฺฉูุชุฑู ุจุด ุงุฒ ุญุฏ, ุงุฌุงุฏ ุงุณุชุฑุณ ุฏุฑ ุฏฺฏุฑุงู ุจู ุฏูู ุณุฑุนุช ุจุงูุง.",
        "goals": "ฺฉุณุจ ูุฏุฑุช ู ุงุฎุชุงุฑ, ุฑุณุฏู ุจู ุฌุงฺฏุงูโูุง ุจุงูุง, ูพุฑูุฒ ู ููููุช, ฺฉูุชุฑู ูุญุท ู ุดุฑุงุท.",
        "body_language": "ุฏุณุช ุฏุงุฏู ูู ู ุจุง ุงุนุชูุงุฏ ุจู ููุณ, ุชูุงุณ ฺุดู ูุณุชูู ู ูุงูุฐ, ุญุฑฺฉุงุช ุณุฑุน ู ูุฏูููุฏ, ุจุดุชุฑ ุญุฑู ูโุฒูุฏ ู ฺฉูุชุฑ ฺฏูุด ูโฺฉูุฏ, ุงุณุชูุงุฏู ุงุฒ ุฌููุงุช ุชุฃฺฉุฏ, ุชู ุตุฏุง ุจุงูุง ู ูุงุทุน.",
        "needs_and_wants": "ูุนุงูุชโูุง ุฌุฏุฏ ู ูุชููุน, ฺฉูุชุฑู ู ูุธุงุฑุช, ูุฑุตุช ุจุฑุง ูพุดุฑูุช, ฺฉุณุจ ุดูุฑุช ู ุงุนุชุจุงุฑ, ูุฏุฑุช ู ุงุฎุชุงุฑ, ฺุงูุดโูุง ุฌุฏุฏ.",
        "motivations": "ุฑูุงุจุช, ููููุช, ุงุณุชููุงู, ุฑุณุฏู ุจู ูุชุงุฌ ููููุณ, ุฑูุจุฑ ู ูุฏุฑุช.",
        "fears": "ุงุฒ ุฏุณุช ุฏุงุฏู ฺฉูุชุฑู, ุดฺฉุณุช ุฎูุฑุฏู, ุณูุกุงุณุชูุงุฏู ุฏฺฏุฑุงู ุงุฒ ุงู, ูุงุจุณุชฺฏ ุจู ุฏฺฏุฑุงู.",
        "strengths": "ุฑูุจุฑ, ุชุตููโฺฏุฑ ูุงุทุน, ุญู ูุดฺฉูุงุช, ูุฏุฑุช ุจุญุฑุงู, ุฑุณฺฉโูพุฐุฑ, ุงูุฑฺ ุจุงูุง.",
        "areas_for_improvement": "ุงูุฒุงุด ุตุจุฑ ู ุดฺฉุจุง, ุชูุฌู ุจู ูุธุฑุงุช ู ุงุญุณุงุณุงุช ุฏฺฏุฑุงู, ุจูุจูุฏ ููุงุฑุช ฺฏูุด ุฏุงุฏู, ฺฉูุชุฑู ุชูุงู ุจู ุณูุทูโุฌู.",
        "positive_team_contributions": "ุงุฌุงุฏ ุงูฺฏุฒู ุจุฑุง ุฑุณุฏู ุจู ุงูุฏุงู, ูพุดุจุฑุฏ ุณุฑุน ูพุฑูฺูโูุง, ุงุฑุงุฆู ุฏุฏฺฏุงูโูุง ูุงุทุน ู ุฑุงูโุญูโูุง ุนูู.",
        "work_style": "ุณุฑุน, ูุชุฌูโฺฏุฑุง, ูุณุชูู, ฺูุฏูุธููโุง (Multi-tasking), ุจู ุฏูุจุงู ฺุงูุด ู ูุณุฆููุช."
      },
      {
        "type_name": "High I (Influence) - ุชุฃุซุฑฺฏุฐุงุฑ",
        "general_characteristics": [
          "ุงุฌุชูุงุน ู ุจุฑููโฺฏุฑุง",
          "ูุชูุงุนุฏฺฉููุฏู ู ุฎูุดโุจู",
          "ูพุฑุงูุฑฺ ู ูุดุชุงู",
          "ุฎูุงู ู ุงุฏูโูพุฑุฏุงุฒ",
          "ุฑูุงุจุท ุนููู ูู",
          "ุงุญุณุงุณุงุช ุบุงูุจ ุจุฑ ููุทู",
          "ุชูุงูุง ุดุฑูุน ฺฏูุชฺฏู",
          "ุฏูุณุชโุฏุงุดุชู ู ุฎููฺฏุฑู"
        ],
        "leadership_style": "ุงููุงูโุจุฎุด, ุฏููฺฉุฑุงุชฺฉ, ุงุฌุงุฏ ูุญุท ฺฉุงุฑ ุดุงุฏ ู ูพุฑุงูุฑฺ, ุชุดูู ุฎูุงูุช ู ฺฉุงุฑ ุชู, ูุชูุงุนุฏ ฺฉุฑุฏู ุชู ุงุฒ ุทุฑู ุฌุฐุงุจุช ุดุฎุต.",
        "challenges": "ุจโุชูุฌู ุจู ุฌุฒุฆุงุช, ุนุฏู ูพฺฏุฑ ูุธุงู ุชุง ุงูุชูุง, ุชุตููโฺฏุฑ ุจุฑ ุงุณุงุณ ุงุญุณุงุณุงุช, ูพุฑุญุฑู ู ุณุงุฒูุงูุฏู ุถุนู.",
        "goals": "ูุญุจูุจุช ุงุฌุชูุงุน, ุดูุงุฎุชู ุดุฏู, ุงุฌุงุฏ ุฑูุงุจุท ุฏูุณุชุงูู, ุชุฃุฏ ู ุชุญุณู ุงุฒ ุณู ุฏฺฏุฑุงู.",
        "body_language": "ุจุณุงุฑ ูพูุง ู ูพุฑุงูุฑฺ, ุงุณุชูุงุฏู ุฒุงุฏ ุงุฒ ุญุฑฺฉุงุช ุฏุณุช, ูุจุฎูุฏ ุฒุฏู, ุชูุงุณ ฺุดู ุฏูุณุชุงูู, ูุฒุฏฺฉ ุดุฏู ุจู ุงูุฑุงุฏ ููฺฏุงู ุตุญุจุช.",
        "needs_and_wants": "ูุญุท ฺฉุงุฑ ุฏูุณุชุงูู ู ุงุฌุชูุงุน, ูุฑุตุช ุจุฑุง ุชุนุงูู, ุขุฒุงุฏ ุงุฒ ฺฉูุชุฑู ู ุฌุฒุฆุงุช, ุชุฃุฏ ู ุชุดูู ุนููู.",
        "motivations": "ุดูุงุฎุชู ุดุฏู, ุฑูุงุจุท ุงุฌุชูุงุน, ฺฉุงุฑ ฺฏุฑูู, ุขุฒุงุฏ ุจุงู, ูุญุทโูุง ุดุงุฏ ู ูุซุจุช.",
        "fears": "ุทุฑุฏ ุดุฏู ุงุฒ ุณู ุฏฺฏุฑุงู, ุนุฏู ุชุฃุฏ ุงุฌุชูุงุน, ุงุฒ ุฏุณุช ุฏุงุฏู ูููุฐ ู ูุญุจูุจุช.",
        "strengths": "ุงุฌุงุฏ ุงุฑุชุจุงุท, ูุชูุงุนุฏุณุงุฒ, ฺฉุงุฑ ุชู, ุงุฏูโูพุฑุฏุงุฒ, ุงุฌุงุฏ ุงูฺฏุฒู ุฏุฑ ุฏฺฏุฑุงู, ุฎูุดโุจู.",
        "areas_for_improvement": "ุงูุฒุงุด ุชูุฑฺฉุฒ ุจุฑ ุฌุฒุฆุงุช ู ูุธุงู, ูุฏุฑุช ุฒูุงู, ุณุงุฒูุงูุฏู ุจูุชุฑ, ูุงูุนโุจู ุจุดุชุฑ.",
        "positive_team_contributions": "ุจุงูุง ุจุฑุฏู ุฑูุญู ุชู, ุงุฌุงุฏ ุดุจฺฉู ู ุงุฑุชุจุงุทุงุช, ุชุณูู ุทููุงู ูฺฉุฑ (Brainstorming), ุงุฑุงุฆู ุงุฏูโูุง ุฌุฏุฏ.",
        "work_style": "ูุจุชู ุจุฑ ุชุนุงูู, ุฎูุงู, ุบุฑุฑุณู, ุจู ุฏูุจุงู ููฺฉุงุฑ ู ูุดุงุฑฺฉุช."
      },
      {
        "type_name": "High S (Steadiness) - ุจุงุซุจุงุช",
        "general_characteristics": [
          "ุตุจูุฑ ู ุขุฑุงู",
          "ุดูููุฏู ุฎูุจ",
          "ููุงุฏุงุฑ ู ูุงุจู ุงุนุชูุงุฏ",
          "ุญุงู ู ููุฑุจุงู",
          "ููุงูู ุฏุฑ ุจุฑุงุจุฑ ุชุบุฑุงุช ูุงฺฏูุงู",
          "ูุชูุงุถุน ู ูุฑุฏูโุฏุงุฑ",
          "ุนููฺฉุฑุฏ ุฎูุจ ุฏุฑ ุชู",
          "ุขุฑุงู ู ุณูุฌุฏู"
        ],
        "leadership_style": "ุญูุงุช, ูุดุงุฑฺฉุช, ุงุฌุงุฏ ุงููุช ู ุซุจุงุช ุฏุฑ ุชู, ุชูุฑฺฉุฒ ุจุฑ ููฺฉุงุฑ ู ููุงููฺฏ, ุตุจูุฑ ุฏุฑ ุขููุฒุด ู ุชูุณุนู ุงุนุถุง ุชู.",
        "challenges": "ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุชุบุฑ, ุนุฏู ูุงุทุนุช, ฺฉูุฏ ุฏุฑ ุชุตููโฺฏุฑ, ูพููุงู ฺฉุฑุฏู ุงุญุณุงุณุงุช ู ูุดฺฉูุงุช, ุงุฌุชูุงุจ ุงุฒ ุชุนุงุฑุถ.",
        "goals": "ุงููุช ู ุซุจุงุช, ุญูุธ ูุถุนุช ููุฌูุฏ, ฺฉูฺฉ ุจู ุฏฺฏุฑุงู, ุฑูุงุจุท ูพุงุฏุงุฑ ู ุนูู.",
        "body_language": "ุขุฑุงู ู ฺฉูุชุฑูโุดุฏู, ุญุฑฺฉุงุช ููุงู, ุชูุงุณ ฺุดู ููุฑุจุงู, ฺฏูุด ุฏุงุฏู ูุนุงู ุจุง ุชฺฉุงู ุฏุงุฏู ุณุฑ, ุญูุธ ูุงุตูู ุฑุงุญุช.",
        "needs_and_wants": "ูุญุท ฺฉุงุฑ ุจุงุซุจุงุช ู ูุงุจู ูพุดโุจู, ูุฏุฑุฏุงู ุตููุงูู, ุงููุช ุดุบู, ุฏุณุชูุฑุงูุนููโูุง ูุงุถุญ.",
        "motivations": "ฺฉูฺฉ ุจู ุฏฺฏุฑุงู, ุงููุช, ฺฉุงุฑ ุฏุฑ ฺฉ ุชู ููุงููฺฏ, ูุฏุฑุฏุงู ู ููุงุฏุงุฑ.",
        "fears": "ุงุฒ ุฏุณุช ุฏุงุฏู ุงููุช, ุชุบุฑุงุช ูุงฺฏูุงู, ุงุฌุงุฏ ุชุนุงุฑุถ ู ุฏุฑฺฏุฑ, ูุงุงูุฏ ฺฉุฑุฏู ุฏฺฏุฑุงู.",
        "strengths": "ููฺฉุงุฑ ุชู, ูพุดุชุจุงู, ุตุจุฑ ู ุดฺฉุจุง, ููุงุฑุช ฺฏูุด ุฏุงุฏู, ูุงุจู ุงุนุชูุงุฏ ุจูุฏู, ุงุฌุงุฏ ููุงููฺฏ.",
        "areas_for_improvement": "ุงูุฒุงุด ุงูุนุทุงูโูพุฐุฑ ุฏุฑ ุจุฑุงุจุฑ ุชุบุฑ, ุงุจุฑุงุฒ ูุฌูุฏ ู ูุงุทุนุช ุจุดุชุฑ, ุณุฑุนุช ุจุฎุดุฏู ุจู ุชุตููโฺฏุฑโูุง.",
        "positive_team_contributions": "ุงุฌุงุฏ ูุงุฑููู ู ุซุจุงุช ุฏุฑ ุชู, ุญูุงุช ุงุฒ ุงุนุถุง ุชู, ูุงูุฌโฺฏุฑ ุฏุฑ ุงุฎุชูุงูุงุช.",
        "work_style": "ุจุง ุฏูุช, ููุธู, ูพฺฏุฑ, ูุชูุฑฺฉุฒ ุจุฑ ฺฉ ูุธูู ุฏุฑ ฺฉ ุฒูุงู (Single-tasking), ูุงุฒููุฏ ูุญุท ุขุฑุงู."
      },
      {
        "type_name": "High C (Conscientiousness) - ูุธููโุดูุงุณ",
        "general_characteristics": [
          "ุฏูู ู ุชุญููโฺฏุฑ",
          "ููุธู ู ุณุงุฎุชุงุฑุงูุชู",
          "ฺฉูุชโฺฏุฑุง ู ุงุณุชุงูุฏุงุฑุฏ ุจุงูุง",
          "ูุญุชุงุท ู ููุทู",
          "ูุงูุนโุจู ู ุญููุชโุฌู",
          "ุฑุณู ู ุฏุฑููโฺฏุฑุง",
          "ฺฉูุงูโฺฏุฑุง",
          "ูพุฑู ููุงูู ู ููุฑุฑุงุช"
        ],
        "leadership_style": "ูุจุชู ุจุฑ ูุธูู ู ฺฉูุช, ุฏูู ู ููุธู, ุชุตููโฺฏุฑ ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ู ุญูุงู, ุชุนู ุงุณุชุงูุฏุงุฑุฏูุง ุจุงูุง, ุชูุฑฺฉุฒ ุจุฑ ุฑููโูุง ู ููุงูู.",
        "challenges": "ฺฉูุฏ ุฏุฑ ุชุตููโฺฏุฑ ุจู ุฏูู ุชุญูู ุจุด ุงุฒ ุญุฏ, ุงูุชูุงุฏ ุงุฒ ุฎูุฏ ู ุฏฺฏุฑุงู, ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุงุฏูโูุง ุจุฏูู ูพุดุชูุงูู ููุทู, ุนุฏู ุงูุนุทุงูโูพุฐุฑ.",
        "goals": "ุฏูุช ู ฺฉูุช ุจุงูุง, ุตุญุช ู ุฏุฑุณุช, ุฑุณุฏู ุจู ุฏุงูุด ู ุชุฎุตุต, ฺฉุงุฑุง ู ูุธู.",
        "body_language": "ุฑุณู ู ฺฉูุชุฑูโุดุฏู, ุญุฑฺฉุงุช ฺฉูุชุฑ, ุชูุงุณ ฺุดู ูุญุฏูุฏ ู ุชุญูู, ุญูุธ ูุงุตูู ูุฒฺฉ.",
        "needs_and_wants": "ุงุทูุงุนุงุช ุฏูู ู ฺฉุงูู, ุงุณุชููุงู ฺฉุงุฑ, ุฒูุงู ฺฉุงู ุจุฑุง ุชุญูู, ูุญุท ฺฉุงุฑ ููุธู ู ุณุงุฎุชุงุฑุงูุชู, ุงุทููุงู ุงุฒ ุฏุฑุณุช ฺฉุงุฑูุง.",
        "motivations": "ฺฉูุช, ุฏูุช, ููุทู, ุญู ูุณุงุฆู ูพฺุฏู, ูพุฑู ุงุฒ ุงุณุชุงูุฏุงุฑุฏูุง.",
        "fears": "ุงูุชูุงุฏ ุงุฒ ฺฉุงุฑุด, ุงุดุชุจุงู ฺฉุฑุฏู, ุจโูุธู ู ูุฑุฌโููุฑุฌ, ุชุตููโฺฏุฑโูุง ุดุชุงุจโุฒุฏู.",
        "strengths": "ุชุญูู ู ุจุฑูุงููโุฑุฒ, ฺฉูุชุฑู ฺฉูุช, ุฏูุช ุจู ุฌุฒุฆุงุช, ุญู ูุณุงุฆู ูพฺุฏู, ุณุงุฒูุงูุฏู, ุชูฺฉุฑ ููุทู.",
        "areas_for_improvement": "ุงูุฒุงุด ุณุฑุนุช ุฏุฑ ุชุตููโฺฏุฑ, ุงูุนุทุงูโูพุฐุฑ ุจุดุชุฑ, ุชุญูู ุงุดุชุจุงูุงุช, ุจูุจูุฏ ุฑูุงุจุท ุงุฌุชูุงุน.",
        "positive_team_contributions": "ุชุถูู ฺฉูุช ู ุฏูุช, ุงุฑุงุฆู ุชุญููโูุง ุนูู ู ุฏุงุฏูโูุญูุฑ, ุณุงุฒูุงูุฏู ูพุฑูฺูโูุง.",
        "work_style": "ุณุณุชูุงุชฺฉ, ุฏูู, ูุณุชูู, ูุชูุฑฺฉุฒ ุจุฑ ุฏุงุฏู ู ููุทู."
      },
      {
        "type_name": "High DI - Achiever (ูุชุฌูโฺฏุฑุง ุงููุงูโุจุฎุด)",
        "general_characteristics": ["ุฌุงูโุทูุจ", "ูุงุทุน", "ูุชูุงุนุฏฺฉููุฏู", "ูุงุฌุฑุงุฌู", "ูุชุฌูโฺฏุฑุง ู ุฏุฑ ุนู ุญุงู ุงุฌุชูุงุน"],
        "leadership_style": "ฺฉุงุฑุฒูุงุชฺฉ ู ูุชุฌูโฺฏุฑุง. ุชู ุฑุง ุจุฑุง ุฑุณุฏู ุจู ุงูุฏุงู ุจููุฏูพุฑูุงุฒุงูู ุจุณุฌ ูโฺฉูุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุจโุตุจุฑ ุจุงุดุฏ ู ุงูุฑุงุฏ ฺฉู ุณุฑุนุช ฺฉูุชุฑ ุฏุงุฑูุฏ ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏ.",
        "strengths": "ุชูุงูุง ุดุฑูุน ูพุฑูฺูโูุง ุจุฒุฑฺฏ ู ุงููุงู ุจุฎุดุฏู ุจู ุฏฺฏุฑุงู ุจุฑุง ูพูุณุชู ุจู ุขูโูุง.",
        "work_style": "ุณุฑุน, ูุฏูููุฏ, ุจู ุฏูุจุงู ููุดโูุง ุฑูุจุฑ ฺฉู ุฏุฑ ุขู ุจุชูุงูุฏ ุชุฃุซุฑฺฏุฐุงุฑ ุจุงุดุฏ."
      },
      {
        "type_name": "ID - Persuader (ูุชูุงุนุฏฺฉููุฏู)",
        "general_characteristics": ["ุฎูุดโุจู", "ุงุฌุชูุงุน", "ูพุฑุงูุฑฺ", "ุชุฃุซุฑฺฏุฐุงุฑ", "ุชูุงูุง ุจุงูุง ุฏุฑ ุงุฌุงุฏ ุดุจฺฉู"],
        "leadership_style": "ุจุณุงุฑ ุงููุงูโุจุฎุด ู ุงูฺฏุฒูโุฏููุฏู. ุงุฒ ุทุฑู ุงุฌุงุฏ ุฑูุงุจุท ูู ุชู ุฑุง ุฑูุจุฑ ูโฺฉูุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุจุด ุงุฒ ุญุฏ ุฎูุดโุจู ุจุงุดุฏ ู ุงุฒ ุฌุฒุฆุงุช ู ูุดฺฉูุงุช ุจุงูููู ุบุงูู ุดูุฏ.",
        "strengths": "ุชูุงูุง ูููโุงูุนุงุฏู ุฏุฑ ูุฑูุด ุงุฏูโูุง, ูุญุตููุงุช ู ุงุฌุงุฏ ูุฌุงู ุฏุฑ ุฏฺฏุฑุงู.",
        "work_style": "ูุจุชู ุจุฑ ุชุนุงูู, ุจู ุฏูุจุงู ูุฑุตุชโูุง ุจุฑุง ุงุฑุงุฆู ู ูุชูุงุนุฏ ฺฉุฑุฏู ุฏฺฏุฑุงู."
      },
      {
        "type_name": "IS - Coach (ูุฑุจ)",
        "general_characteristics": ["ุญูุงุชฺฏุฑ", "ุฎููฺฏุฑู", "ูุดูู", "ุตุจูุฑ", "ุดูููุฏู ุนุงู"],
        "leadership_style": "ุฑูุจุฑ ุญุงู ฺฉู ุจุฑ ุฑุดุฏ ู ุชูุณุนู ูุฑุฏ ุงุนุถุง ุชู ุชูุฑฺฉุฒ ุฏุงุฑุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุฏุฑ ุชุตููโฺฏุฑโูุง ุณุฎุช ุง ุงูุชูุงู ุงุฎุจุงุฑ ุจุฏ ุฏฺุงุฑ ูุดฺฉู ุดูุฏ.",
        "strengths": "ุงุฌุงุฏ ุงุนุชูุงุฏ ู ููุงุฏุงุฑ ุฏุฑ ุชู, ุชูุณุนู ุงุณุชุนุฏุงุฏูุง.",
        "work_style": "ูุดุงุฑฺฉุช, ุฏุฑ ูุญุทโูุง ุชู ฺฉู ูุงุฒ ุจู ููุฏู ู ุญูุงุช ุงุณุช, ุจูุชุฑู ุนููฺฉุฑุฏ ุฑุง ุฏุงุฑุฏ."
      },
      {
        "type_name": "SI - Advisor (ูุดุงูุฑ)",
        "general_characteristics": ["ููุงุฏุงุฑ", "ูุงุจู ุงุนุชูุงุฏ", "ุขุฑุงู", "ุดูููุฏู ุฎูุจ", "ุงุฑุงุฆูโุฏููุฏู ูพุดุชุจุงู ุนูู"],
        "leadership_style": "ุฑูุจุฑ ุจุงุซุจุงุช ู ูุงุจู ูพุดโุจู ฺฉู ุงููุช ู ููุงููฺฏ ุฑุง ุฏุฑ ุงูููุช ูุฑุงุฑ ูโุฏูุฏ.",
        "challenges": "ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุชุบุฑุงุช ู ูุงุฒ ุจู ุฒูุงู ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ุงุฏูโูุง ุฌุฏุฏ.",
        "strengths": "ุงุฌุงุฏ ุฑูุงุจุท ุจููุฏูุฏุช ู ุจุงุซุจุงุช, ุงุฑุงุฆู ุฎุฏูุงุช ูุงุจู ุงุนุชูุงุฏ.",
        "work_style": "ููุธู, ูพฺฏุฑ, ุฏุฑ ููุดโูุง ฺฉู ูุงุฒ ุจู ุตุจุฑ ู ุงุฑุงุฆู ุฎุฏูุงุช ูุณุชูุฑ ุฏุงุฑูุฏ, ูููู ุงุณุช."
      },
      {
        "type_name": "SCD - Diplomat (ุฏูพููุงุช)",
        "general_characteristics": ["ูุชูุงุถุน", "ุฏูู", "ุตุจูุฑ", "ุณุณุชูุงุชฺฉ", "ุขุฑุงู ู ุจุง ูุฒุงฺฉุช"],
        "leadership_style": "ุฑูุจุฑ ฺฉู ุจุง ุงุฌุงุฏ ูุฑุขูุฏูุง ูพุงุฏุงุฑ ู ูุงุจู ุงุนุชูุงุฏ, ุชู ุฑุง ุจู ุณูุช ฺฉูุช ูุฏุงุช ูโฺฉูุฏ.",
        "challenges": "ุงุฌุชูุงุจ ุงุฒ ุชุนุงุฑุถ ู ฺฉูุฏ ุฏุฑ ุชุตููโฺฏุฑ ุจู ุฏูู ูุงุฒ ุจู ูุทุนุช.",
        "strengths": "ุชุถูู ฺฉูุช ู ุซุจุงุช, ูุงูุฌโฺฏุฑ ุฏุฑ ุงุฎุชูุงูุงุช ุจุง ุขุฑุงูุด.",
        "work_style": "ุจุง ุฏูุช, ุฑูุดููุฏ, ุฏุฑ ูุญุทโูุง ุขุฑุงู ู ุณุงุฎุชุงุฑุงูุชู ุจูุชุฑู ุนููฺฉุฑุฏ ุฑุง ุฏุงุฑุฏ."
      },
      {
        "type_name": "CS - Specialist (ูุชุฎุตุต)",
        "general_characteristics": ["ุชุญููโฺฏุฑ", "ุฏูู", "ููุธู", "ูุณุชูู", "ุฏุงุฑุง ุงุณุชุงูุฏุงุฑุฏูุง ุจุงูุง"],
        "leadership_style": "ุฑูุจุฑ ุจุฑ ุงุณุงุณ ุชุฎุตุต ู ุฏุงูุด. ุจุง ุงุฑุงุฆู ุฏุงุฏูโูุง ู ููุทู ุชู ุฑุง ูุฏุงุช ูโฺฉูุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุจุด ุงุฒ ุญุฏ ููุชูุฏ ุจุงุดุฏ ู ุฏุฑ ุจุฑูุฑุงุฑ ุงุฑุชุจุงุทุงุช ุงุฌุชูุงุน ุถุนู ุนูู ฺฉูุฏ.",
        "strengths": "ุชุฎุตุต ูู, ุญู ูุณุงุฆู ูพฺุฏู, ุชุนูุฏ ุจู ฺฉูุช ู ุฏูุช.",
        "work_style": "ูุณุชูู, ูุธููโูุญูุฑ, ุจู ุฏูุจุงู ูุฑุตุชโูุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฏุงูุด ุชุฎุตุต ุฎูุฏ."
      },
      {
        "type_name": "CIS - Questioner (ูพุฑุณุดฺฏุฑ)",
        "general_characteristics": ["ุดฺฉุงฺฉ", "ููุทู", "ุชุญููโฺฏุฑ", "ูุงุทุน", "ุจู ุฏูุจุงู ุญูุงู ู ุดูุงูุฏ"],
        "leadership_style": "ุฑูุจุฑ ฺฉู ูุถุนุช ููุฌูุฏ ุฑุง ุจู ฺุงูุด ูโฺฉุดุฏ ู ุจู ุฏูุจุงู ุฑุงูโุญูโูุง ููุทู ู ฺฉุงุฑุขูุฏ ุงุณุช.",
        "challenges": "ููฺฉู ุงุณุช ุจู ุฏูู ุดฺฉุงฺฉุช ู ุงูุชูุงุฏ ุฒุงุฏ, ุฏฺฏุฑุงู ุฑุง ุฏูุณุฑุฏ ฺฉูุฏ.",
        "strengths": "ุงุฑุฒุงุจ ุนู, ุญู ูุดฺฉูุงุช ูพฺุฏู, ุงุทููุงู ุงุฒ ุฏุฑุณุช ุชุตููุงุช.",
        "work_style": "ุชุญูู, ุฏูู, ุฏุฑ ููุดโูุง ฺฉู ูุงุฒ ุจู ุชูฺฉุฑ ุงูุชูุงุฏ ู ุงุฑุฒุงุจ ุฑุณฺฉ ุฏุงุฑุฏ, ูููู ุงุณุช."
      },
      {
        "type_name": "DC - Challenger (ฺุงูุดฺฏุฑ)",
        "general_characteristics": ["ูุตูู", "ูุชุฌูโฺฏุฑุง", "ููุทู", "ุฑฺฉ", "ุงุณุชุงูุฏุงุฑุฏูุง ุจุงูุง ุจุฑุง ุฎูุฏ ู ุฏฺฏุฑุงู"],
        "leadership_style": "ุฑูุจุฑ ูุฏุฑุชููุฏ ฺฉู ุชู ุฑุง ุจุฑุง ุฏุณุชุงุจ ุจู ูุชุงุฌ ุจุง ฺฉูุช ุจุงูุง ุชุญุช ูุดุงุฑ ูุฑุงุฑ ูโุฏูุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุจโุตุจุฑ, ูพุฑุชููุน ู ูุณุจุช ุจู ุงุญุณุงุณุงุช ุฏฺฏุฑุงู ุจโุชูุงูุช ุจู ูุธุฑ ุจุฑุณุฏ.",
        "strengths": "ุชูุงูุง ุฏุณุชุงุจ ุจู ูุชุงุฌ ุนุงู ุฏุฑ ูุญุทโูุง ูพุฑฺุงูุด, ฺฉุงุฑุง ู ุจูุฑูโูุฑ ุจุงูุง.",
        "work_style": "ุณุฑุน, ฺฉุงุฑุขูุฏ, ุฏุฑ ูุญุทโูุง ุฑูุงุจุช ฺฉู ูุงุฒ ุจู ูุชุงุฌ ุณุฑุน ู ุฏูู ุงุณุช, ุจูุชุฑู ุนููฺฉุฑุฏ ุฑุง ุฏุงุฑุฏ."
      },
      {
        "type_name": "IC - Energizer (ุงูุฑฺโุจุฎุด)",
        "general_characteristics": ["ฺฉุงุฑุฒูุงุชฺฉ", "ุงุฌุชูุงุน", "ุญุงู", "ุฎูุดโุจู", "ุชูุงูุง ุงุฌุงุฏ ุงูฺฏุฒู ู ุงุชุญุงุฏ"],
        "leadership_style": "ุฑูุจุฑ ฺฉู ุจุง ุงูุฑฺ ูุซุจุช, ุชูุงูุง ุงููุงูโุจุฎุด ู ุญูุงุช ุงุฒ ุชู, ุงูุฑุงุฏ ุฑุง ูุชุญุฏ ูโฺฉูุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุงุฒ ุชุตููโฺฏุฑโูุง ุณุฎุช ู ุงุฌุงุฏ ุชุนุงุฑุถ ุงุฌุชูุงุจ ฺฉูุฏ.",
        "strengths": "ุงุฌุงุฏ ุฑูุญู ุชู ูู, ุดุจฺฉูโุณุงุฒ, ุชุดูู ููฺฉุงุฑ.",
        "work_style": "ุจุณุงุฑ ุชุนุงูู, ููุงุณุจ ุจุฑุง ููุดโูุง ฺฉู ูุงุฒ ุจู ุงุฌุงุฏ ุงูฺฏุฒู ู ููุงููฺฏ ุชู ุฏุงุฑุฏ."
      },
      {
        "type_name": "SD - Navigator (ูุงูุจุฑ)",
        "general_characteristics": ["ูุฏูููุฏ", "ุจุงุซุจุงุช", "ุชุญููโฺฏุฑ", "ูุณุฆููุชโูพุฐุฑ", "ุชุฑฺฉุจ ุงุฒ ูุงุทุนุช ู ุฏูุช"],
        "leadership_style": "ุฑูุจุฑ ฺฉู ุจุง ุฏุฏ ุงุณุชุฑุงุชฺฺฉ, ุจุฑูุงููโุฑุฒ ุฏูู ู ุงุฑุงุฏู ูู, ุชู ุฑุง ุจู ุณูุช ุงูุฏุงู ูุดุฎุต ูุฏุงุช ูโฺฉูุฏ.",
        "challenges": "ููฺฉู ุงุณุช ุฏุฑ ุจุฑุงุจุฑ ุชุบุฑุงุช ุณุฑุน ุง ุงุฏูโูุง ุบุฑููุชุธุฑู ููุงููุช ูุดุงู ุฏูุฏ.",
        "strengths": "ุจุฑูุงููโุฑุฒ ุงุณุชุฑุงุชฺฺฉ, ูุฏุฑุช ูพุฑูฺู, ุฏุณุชุงุจ ุจู ูุชุงุฌ ูพุงุฏุงุฑ ู ุจุง ฺฉูุช.",
        "work_style": "ุณุงุฎุชุงุฑุงูุชู, ูุชุฌูโฺฏุฑุง, ุฏุฑ ููุดโูุง ูุฏุฑุช ฺฉู ูุงุฒ ุจู ุจุฑูุงููโุฑุฒ ู ุงุฌุฑุง ุฏุงุฑุฏ, ูููู ุงุณุช."
      },
    ],
    "job_suitability": {
      "ุจุฑูุงูู_ููุณ": ["C", "CS (Specialist)", "SCD (Diplomat)"],
      "ุชุญููฺฏุฑ_ุฏุงุฏู": ["C", "CS (Specialist)", "CIS (Questioner)"],
      "ุฏุชุง_ุณุงูุชุณุช": ["C", "CS (Specialist)", "CIS (Questioner)"],
      "ูุฏุฑ_ูุญุตูู": ["DI (Achiever)", "ID (Persuader)", "D"],
      "DEVOPS": ["DC (Challenger)", "D/S/C (Navigator)", "CS (Specialist)"],
      "ุชุญููฺฏุฑ_ูุฑุงูุฏ": ["C", "SCD (Diplomat)", "CS (Specialist)"],
      "ูุฏุฑ_ูพุฑูฺู": ["D", "D/S/C (Navigator)", "DC (Challenger)"],
      "ุชุถูู_ฺฉูุช": ["C", "CS (Specialist)", "SCD (Diplomat)"],
      "ูพุดุชุจุงู_ูู": ["S", "SI (Advisor)", "IS (Coach)"],
      "UI/UX_ฺฉุงุฑ": ["I", "IS (Coach)", "I/S/C (Collaborator)"],
      "ุชูุณุนู_ูุฑู_ุงูุฒุงุฑ": ["C", "CS (Specialist)", "D/S/C (Navigator)"],
      "ูุฏุฑุช_ุดุจฺฉู_ู_ุงููุช": ["C", "CS (Specialist)", "CIS (Questioner)"],
      "ูููุฏุณ_ุงุฏฺฏุฑ_ูุงุดู": ["C", "CS (Specialist)", "CIS (Questioner)"]
    }
  }
}
# ุชุญูู ููุง
if st.session_state.current_q >= TOTAL_QUESTIONS and not st.session_state.submitted:
    st.session_state.submitted = True
    scores = {'D': 0, 'I': 0, 'S': 0, 'C': 0}
    for resp in st.session_state.responses:
        scores[resp['most']] += 1
        scores[resp['least']] -= 1
    # ูุฑูุงูโุณุงุฒ 1 ุชุง 7
    raw = scores.copy()
    max_raw = max(raw.values())
    min_raw = min(raw.values())
    norm = {k: int(round(1 + 6 * (v - min_raw) / (max_raw - min_raw))) if max_raw != min_raw else 4 for k, v in raw.items()}
    four_digit = f"{norm['D']}{norm['I']}{norm['S']}{norm['C']}"

    # ุชุดุฎุต ุชูพ
    # ุงูฺฏูุฑุชู ุชุนู ุชูพ ฑตฺฏุงูู DISC
    sorted_dims = sorted(norm.items(), key=lambda x: x[1], reverse=True)
    dominant, dom_score = sorted_dims[0]
    second, sec_score = sorted_dims[1]

    # ุชูพ ููุง ุจุฑ ุงุณุงุณ ููุงุนุฏ ุชุนูโุดุฏู:
    if dom_score >= 7:
        disc_type = f"High {dominant}"
    elif dom_score >= 6 and sec_score >= 5:
        disc_type = f"High {dominant}{second}"
    elif dom_score >= 5 and sec_score >= 5:
        disc_type = f"{dominant}{second}"
    else:
        disc_type = dominant  # ุญุงูุช fallback ุณุงุฏู
    # ูพุฏุง ฺฉุฑุฏู ุฏุงุฏู ูุฑุจูุท ุจู ุชูพ ุฏุฑ disc_data
    selected_type_info = next(
        (item for item in disc_data["disc_report"]["personality_types"]
        if disc_type in item["type_name"]), None
    )

    # ุฏฺฉุดูุฑ ุชูุณุฑ ฑต ุชูพ DISC
    disc_descriptions = {
        "High D": "๐ด High D: ูุฑุฏ ุจุณุงุฑ ูุงุทุนุ ุฌุงูโุทูุจุ ุฑุณฺฉโูพุฐุฑ ู ูุชุฌูโูุญูุฑ. ุชุตููโฺฏุฑ ุณุฑุน ู ฺฏุฑุงุด ุจู ฺฉูุชุฑู.",
        "High DI": "๐ฅ High DI: ุฑูุจุฑ ฺฉุงุฑุฒูุงุชฺฉุ ููุฒูุงู ูุงุทุน ู ุงุฌุชูุงุน. ูู ุงูฺฏุฒูโุจุฎุด ุงุณุช ูู ุงูู ุงุฌุฑุง.",
        "DI": "โก DI: ูพุดโุจุฑูุฏู ุจุง ุดูุฑ ู ุดูู. ูู ุฌุงูโุทูุจ ุงุณุช ูู ุชุนุงููโฺฏุฑุง. ุณุฑุน ุงูุง ฺฏุงู ุจโุจุฑูุงูู.",
        "DC": "๐ DC: ูุฑุฏ ููุทู ู ูุฏุงุชโฺฏุฑ. ุชุตููโฺฏุฑ ุจุฑ ุงุณุงุณ ุฏุงุฏู ู ูุงูุนุช. ุนูุงููโููุฏ ุจู ุจูุฑูโูุฑ ู ุฏูุช.",
        "High I": "๐ก High I: ูุฑุฏ ุจุณุงุฑ ุงุฌุชูุงุนุ ูุซุจุชุ ุชุฃุซุฑฺฏุฐุงุฑ. ุงูู ฺฏูุชฺฏูุ ุงุฑุชุจุงุท ู ุงููุงูโุจุฎุด.",
        "ID": "๐ ID: ุชุฑฺฉุจ ุงุฒ ูููุฐ ุงุฌุชูุงุน ู ูุงุทุนุช. ุจู ุฏูุจุงู ูุชุงุฌ ุจุฒุฑฺฏ ุจุง ุงุฑุชุจุงุทุงุช ูู.",
        "IS": "๐ IS: ูุฑุฏ ุงุฌุชูุงุนุ ููุงุฏุงุฑุ ุฎูุดโุงุฎูุงู. ุฏูุณุชโุฏุงุดุชู ุฏุฑ ุชู ู ูพุดุชุจุงู ุฏฺฏุฑุงู.",
        "IC": "๐ญ IC: ุฏุงุฑุง ุฎูุงูุช ู ุฏูุช ููโุฒูุงู. ุฎูุดโุตุญุจุชุ ุงูุง ุนูุงููโููุฏ ุจู ุฌุฒุฆุงุช ู ุงุณุชุงูุฏุงุฑุฏูุง.",
        "High S": "๐ข High S: ูุฑุฏ ุจุณุงุฑ ุขุฑุงูุ ูุงุจู ุงุนุชูุงุฏุ ุดููุง ู ุญุงู. ุชุบุฑุงุช ูุงฺฏูุงู ุฑุง ููโูพุณูุฏุฏ.",
        "SD": "๐งฉ SD: ุชุฑฺฉุจ ุงุฒ ุตุจูุฑ ู ูพุดโุจุฑูุฏฺฏ. ุฑูุจุฑ ุขุฑุงูุ ุงูุง ูพฺฏุฑ. ุญูุงุชโฺฏุฑ ูู ูุญฺฉู.",
        "SCD": "๐ SCD: ูุฑุฏ ูุชุนูุฏุ ุขุฑุงูุ ุณุงุฎุชุงุฑููุฏ. ูู ุงูู ููฺฉุงุฑ ุงุณุช ูู ุฑุนุงุช ุฑููุฏูุง ู ุชุญูู.",
        "SI": "๐ SI: ูุฑุฏ ฺฏุฑูุ ููุฑุจุงู ู ูุงุจู ุงุนุชูุงุฏ. ุฑูุงุจุท ุงุฌุชูุงุน ููุฑุงู ุจุง ุชุนูุฏ ู ููุงุฏุงุฑ.",
        "High C": "๐ต High C: ุชุญููโฺฏุฑุ ููุทูุ ุฏููุ ุณุงุฎุชุงุฑููุฏ. ุจู ุงุณุชุงูุฏุงุฑุฏูุง ุจุงูุง ูพุงุจูุฏ ุงุณุช.",
        "CS": "๐ CS: ูุชุฎุตุต ุฏุฑ ุงุฌุฑุงูุง ุฏูู. ูุชูุงุถุนุ ููุธู ู ุณุณุชูโฺฏุฑุง. ุชุฑุฌุญ ูโุฏูุฏ ุชุนุงุฑุถ ุฑุง ูุฏุฑุช ฺฉูุฏ.",
        "CIS": "๐ง CIS: ูุฑุฏ ูุชูฺฉุฑุ ุณุงุฎุชุงุฑุงูุชู ู ููุงุฏุงุฑ. ุชุญููโฺฏุฑ ุจุง ุฑูุญู ุขุฑุงู ู ุฑูุชุงุฑ ูุคุฏุจ."
    }


    st.markdown(f"**๐ข ฺฉุฏ DISC ุดูุง:** `{four_digit}`  \n**๐ฏ ุชูพ ุดุฎุตุช ููุง:** `{disc_type}`")

    st.success("โ ุชุญูู ุดุฎุตุช ุดูุง ุจุง ููููุช ุงูุฌุงู ุดุฏ:")

    if selected_type_info:
        st.markdown("### ๐ง ุชุญูู ุฏูู ุชูพ ุดุฎุตุช ุดูุง:")
        
        st.markdown(f"**๐ท ุนููุงู ุชูพ:** {selected_type_info['type_name']}")
        
        st.markdown("**๐ ูฺฺฏโูุง ฺฉู:**")
        st.markdown("<ul>" + "".join([f"<li>{trait}</li>" for trait in selected_type_info["general_characteristics"]]) + "</ul>", unsafe_allow_html=True)
        
        st.markdown(f"**๐ ุณุจฺฉ ุฑูุจุฑ:** {selected_type_info['leadership_style']}")
        st.markdown(f"**๐ง ฺุงูุดโูุง:** {selected_type_info['challenges']}")
        st.markdown(f"**๐ผ ุณุจฺฉ ฺฉุงุฑ:** {selected_type_info['work_style']}")
        st.markdown(f"**โ ููุงุท ููุช:** {selected_type_info['strengths']}")

        # ููุงุด ูุดุงุบู ููุงุณุจ
        st.markdown("### ๐งฉ ูุดุงุบู ููุงุณุจ ุจุฑุง ุชูพ ุดูุง:")

        job_map = disc_data["disc_report"]["job_suitability"]

        matching_jobs = [
            job.replace("_", " ")
            for job, types in job_map.items()
            if disc_type in types or selected_type_info["type_name"] in types
        ]

        if matching_jobs:
            st.markdown("<ul>" + "".join([f"<li>{job}</li>" for job in matching_jobs]) + "</ul>", unsafe_allow_html=True)
        else:
            st.info("๐ ุดุบู ุจูโุทูุฑ ุฎุงุต ุจุฑุง ุงู ุชูพ ุชุนุฑู ูุดุฏู ุงุณุช.")
    else:
        st.warning("โ ุชูุณุฑ ฺฉุงูู ุงู ุชูพ ูุนูุงู ุฏุฑ ุณุงูุงูู ููุฌูุฏ ูุณุช.")


    # ูููุฏุงุฑ ุฎุท
    fig = go.Figure()
    fig.add_trace(go.Scatter(x=['D', 'I', 'S', 'C'], y=[norm['D'], norm['I'], norm['S'], norm['C']], mode='lines+markers', name='DISC'))
    fig.update_layout(title='DISC Profile (1-7 Scale)', yaxis=dict(range=[1, 7]))
    st.plotly_chart(fig, use_container_width=True)

    # --- ๐จ ุฎุฑูุฌ HTML ุฒุจุง ---
    html_result = f"""
    <div style="border: 2px solid #ddd; padding: 20px; border-radius: 15px; direction: RTL; font-family: IranSans, sans-serif; background-color: #f9f9f9;">
        <h3 style="color: #2c3e50;">๐ข ฺฉุฏ DISC ุดูุง: <span style="color:#2980b9">{four_digit}</span></h3>
        <h3 style="color: #2c3e50;">๐ฏ ุชูพ ุดุฎุตุช ููุง: <span style="color:#16a085">{disc_type}</span></h3>
        <h4 style="color: #8e44ad; margin-top: 20px;">๐ ุชูุณุฑ ุชูพ ุดุฎุตุช ุดูุง:</h4>
        <p style="font-size: 16px; line-height: 2;">{disc_descriptions.get(disc_type, 'ุชูุณุฑ ุงู ุชูพ ุฏุฑ ุณุงูุงูู ููุฌูุฏ ูุณุช.')}</p>
    </div>
    """

    st.markdown(html_result, unsafe_allow_html=True)
